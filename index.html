<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NASA APOD Viewer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>NASA Astronomy Picture of the Day</header>

  <div class="date-selector">
    <label for="dateInput">Select a date:</label>
    <input type="date" id="dateInput">
    <button onclick="getAPOD()">Show</button>
  </div>

  <div class="apod-container">
    <h2 id="title"></h2>
    <p id="explanation"></p>
    <div id="media"></div>
    <div class="loader" id="loader"></div>
  </div>

  <footer>Data from NASA APOD API</footer>

  <script>
    async function getAPOD() {
      const date = document.getElementById("dateInput").value;
      const apiKey = "5JhBPbsX6wC7rpFsO54McHdsFsYrh2r8wWRVatHY";
      const url = `https://api.nasa.gov/planetary/apod?api_key=${apiKey}&date=${date}`;

      const loader = document.getElementById("loader");
      loader.style.display = "block";

      try {
        const response = await fetch(url);
        const data = await response.json();

        document.getElementById("title").innerText = data.title;
        document.getElementById("explanation").innerText = data.explanation;

        const mediaDiv = document.getElementById("media");
        mediaDiv.innerHTML = "";

        if (data.media_type === "image") {
          const img = document.createElement("img");
          img.src = data.url;
          mediaDiv.appendChild(img);
        } else if (data.media_type === "video") {
          const iframe = document.createElement("iframe");
          iframe.src = data.url;
          iframe.width = "800";
          iframe.height = "500";
          mediaDiv.appendChild(iframe);
        }
      } catch (error) {
        alert("Error fetching data. Please try again.");
        console.error(error);
      } finally {
        loader.style.display = "none";
      }
    }
  </script>
</body>
</html>
